mixin body
  - s = {}
  - s['background-color'] = attributes.bgcolor
  - compact = Object.keys(s).filter(function(k) { return s[k] !== undefined })
  - inline = compact.map(function(k) { return k + ':' + s[k] + ';' }).join('')
  body(class = attributes.class)
    div(style = inline)
      <!--[if mso]>
      v:background(xmlns:v = 'urn:schemas-microsoft-com:vml', fill = 't')
        v:fill( type = 'tile'
              , src = attributes.background
              , color = attributes.bgcolor
              )
      | <![endif]-->
    table( height = '100%'
         , width = '100%'
         , cellpadding = 0
         , cellspacing = 0
         , border = 0
         , bgcolor = attributes.bgcolor
         )
      tr
        td(valign = 'top', align = 'center', background = attributes.background)
          if block
            block
            